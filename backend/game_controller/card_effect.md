# 卡牌功能

此文档解释适用于game_controller的_handle_card_effect函数，展示了每种牌的处理逻辑

## 濒死处理

首先，我们应该有一个濒死处理。用于在角色受伤之后进入濒死状态时处理。
在濒死状态下，应轮询所有人询问桃（应只轮询活着的角色，并按照从当前角色顺时针开始）。
如果有人使用桃，将其使用的桃置入弃牌堆，让濒死角色回一滴血。
如果所有人都不使用桃，应当对该角色进行死亡。

## 基本牌处理

### 杀处理

A对B使用杀后，应询问B是否使用闪
如果使用，将使用的闪和杀均置入弃牌堆，返回
否则，令B掉1滴血，进入濒死处理

### 桃处理

A对自己使用桃，A回复1滴血量，桃进入弃牌堆

## 装备牌处理

装备牌处理方法相同，A使用后令A装备即可。
注意：装备牌会进入A的装备区，不会进入弃牌堆。被顶替的装备应该进入弃牌堆，这应该在player模块中实现。

## 锦囊牌处理

先空着，因为无懈可击可以递归使用。